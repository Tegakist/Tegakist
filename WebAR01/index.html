<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- 省略 -->
  </head>
  <body style="margin: 0; overflow: hidden">
    <div id="status">Ver.2407310917</div>
    <img id="markerImage" src="pattern-a.png" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); opacity: 0.5;" />
    <!-- 省略 -->
    <script>
      var marker = document.querySelector('#marker');
      var statusText = document.querySelector('#status');
      var markerImage = document.querySelector('#markerImage');
      var imageDisplayed = false;

      marker.addEventListener('markerFound', function () {
        statusText.innerText = '';
        markerImage.style.display = 'none';
        var image = document.createElement('a-image');
        image.setAttribute('src', '#Logo');
        image.setAttribute('position', '0 0 0');
        image.setAttribute('scale', '1 1 1');
        image.setAttribute('rotation', '-90 0 0');
        marker.appendChild(image);
        imageDisplayed = true;
      });

      marker.addEventListener('markerLost', function () {
        statusText.innerText = 'Marker Lost';
        setTimeout(function () {
          if (!imageDisplayed) {
            while (marker.firstChild) {
              marker.removeChild(marker.firstChild);
            }
          }
        }, 3000); // 3秒間待つ
        imageDisplayed = false;
      });

      window.addEventListener('load', function () {
        setTimeout(function () {
          statusText.innerText = '画像読込完了';
          setTimeout(function () {
            markerImage.style.display = 'block';
          }, 1000);
        }, 3000);
      });
    </script>
  </body>
</html>
